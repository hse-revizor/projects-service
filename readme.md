# Сервис управления проектов

Этот сервис предоставляет API для управления проектов. Правила определяют ожидаемое поведение системы и хранятся в базе данных PostgreSQL.

## Описание сущности Project


## Используемые технологии

*   **Язык программирования:** Go
*   **База данных:** PostgreSQL
*   **HTTP-роутер:** Gin-gonic
*   **ORM:** GORM
*   **Генерация документации:** Swaggo

## Запуск приложения

### Требования

*   Установленный Go (версия 1.18 или выше)
*   Установленный PostgreSQL
*   Настроенные переменные окружения (см. раздел "Конфигурация")

### Команды Makefile

*   **`run-dev`**: Запускает приложение в режиме разработки.
    *   Использует переменные окружения для конфигурации.
    *   Устанавливает переменную окружения `ENV_MODE` в `development`.
*   **`swag`**: Генерирует документацию API с помощью Swaggo.
    *   `--parseDependency`: Включает парсинг зависимостей.
    *   `--parseInternal`: Включает парсинг внутренних пакетов.
    *   `--parseDepth 3`: Устанавливает глубину парсинга зависимостей на 3 уровня.
    *   `-g cmd/service/main.go`: Указывает главный файл приложения.

### Запуск в режиме разработки

1.  **Настройте переменные окружения:**
    *   Создайте файл `.env` в корне проекта или установите переменные окружения в системе
    *   Установите необходимые переменные окружения (см. раздел "Конфигурация")
2.  **Запустите приложение:**

    ```bash
    make run-dev
    ```
    Сервис будет доступен по указанному в конфигурации адресу и порту.

## Документация API

Документация API генерируется автоматически с помощью Swaggo и доступна по адресу `http://localhost:8080/swagger/index.html` (после запуска приложения и выполнения `make swag`).

## Конфигурация

Конфигурация приложения осуществляется через переменные окружения:

```env
# Основные настройки сервиса
APP_PORT=8080              # Порт, на котором запускается сервис
APP_HOST=localhost         # Хост сервиса
ENV_MODE=development      # Режим работы приложения

# Настройки базы данных
DB_HOST=localhost         # Хост базы данных
DB_PORT=5432             # Порт базы данных
DB_USER=postgres         # Пользователь базы данных
DB_NAME=projectdb        # Название базы данных
DB_PASSWORD=password     # Пароль для пользователя базы данных
DB_SSL_MODE=disable      # Тип SSL-соединения (disable, require, verify-ca, verify-full)
```

Вы можете установить эти переменные:
* Создав файл `.env` в корне проекта
* Установив их напрямую в системе
* Передав при запуске контейнера (при использовании Docker)

## Внесение изменений

При изменении модели данных (`Project`) или API необходимо:

1.  Обновить структуру `Project` в коде.
2.  Обновить миграции базы данных, если необходимо.
3.  Обновить документацию API, выполнив команду `make swag`.

## Примечание
* Убедитесь, что все необходимые переменные окружения установлены перед запуском приложения
* Для безопасности рекомендуется не хранить файл `.env` в репозитории (добавьте его в `.gitignore`)
* При развертывании в production-среде убедитесь, что все чувствительные данные защищены